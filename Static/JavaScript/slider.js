"use strict";!function(t,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():t.Slider=e()}(window,function(){function t(t,n,i){var o,r,s,a,u;if(!t||!n)return console.error("Slider: arguments error."),this;if(o="string"==typeof t?document.querySelector(t):t,!o)return console.error("Slider: cannot find container."),this;if(r="string"==typeof n?o.querySelectorAll(n):n,!r||!r.length)return console.error("Slider: no item inside container."),this;u=this,i=i||{};for(var l in e)void 0===i[l]&&(i[l]=e[l]);r=Array.prototype.slice.call(r),s=r.length,1!==s&&(a=o.clientWidth,this.options=i,this.compareDistance=0,this.timeId=null,this.width=a,i.minPercentToSlide&&(this.compareDistance=a*i.minPercentToSlide),d(this,o,r,s,i.current,a),c(this,"z-slide-indicator","z-slide-dot",this.realCount||s,this.current,"active"),m(this,p,h,f),window.addEventListener("resize",function(){v(u)},!1),i.autoplay&&(this.interval=Math.max(2e3,1e3*i.interval),this.autoplay()))}var e={current:0,duration:.8,minPercentToSlide:null,autoplay:0,direction:"left",interval:5},n=function(t){setTimeout(t,0)},i=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},o=function(t){function e(e){var r,s;if(e in t)return e;for(e=i(e),s=0;o>s&&(r=n[s]+e,!(r in t));s++);return r}var n=["moz","webkit","o","ms"],o=n.length;return function(t,n,i){t.style[e(n)]=i}}(document.body.style),r=function(t,e,n){var i;return i=document.createEvent("Event"),i.initEvent(t,e,n),i},s=function(t,e,n,i,r,s){"undefined"==typeof i&&(i=""),"undefined"==typeof r&&(r=i),"undefined"==typeof s&&(s=r),o(t,"transition",i),o(e,"transition",r),o(n,"transition",s)},a=function(t,e,n,i,r){o(e,"transform","translate3d("+i+"px, 0, 0)"),o(t,"transform","translate3d("+(i-r)+"px, 0, 0)"),o(n,"transform","translate3d("+(i+r)+"px, 0, 0)")},d=function(t,e,n,i,r,s){var a,d,c,u,l=i;for(2===i&&(c=n[0].cloneNode(!0),e.querySelector(".z-slide-content").appendChild(c),n.push(c),c=n[1].cloneNode(!0),e.querySelector(".z-slide-content").appendChild(c),n.push(c),i=4),a=i-1,(r>a||0>r)&&(r=0),0!==r&&(n=n.splice(r,i-r).concat(n)),n[0].uuid=0,n[a].uuid=a,o(n[0],"transform","translate3d(0, 0, 0)"),o(n[a],"transform","translate3d(-"+s+"px, 0, 0)"),u=1;a>u;u++)d=n[u],d.uuid=u,o(d,"transform","translate3d("+s+"px, 0, 0)");t.container=e,t.list=n,t.realCount=l,t.count=i,t.current=r},c=function(t,e,i,o,r,s){var a,d=document.createElement("span"),c=document.createElement("div"),u=[];for(c.className=e||"z-slide-indicator",d.className=i||"z-slide-dot",a=1;o>a;a++)u.push(c.appendChild(d.cloneNode(!1)));u.push(c.appendChild(d)),u[r].className="z-slide-dot "+s,t.indicatorWrap=c,t.indicators=u,t.container.appendChild(c),n(function(){c.style.left=(t.width-getComputedStyle(c).width.replace("px",""))/2+"px"})},u=function(t,e,n){t[e].className="z-slide-dot",t[n].className="z-slide-dot active"},l=function(t){var e,n=t.count-1,i=t.width,r=t.list,s=t.indicatorWrap;for(o(r[n],"transform","translate3d(-"+i+"px, 0, 0)"),e=1;n>e;e++)o(r[e],"transform","translate3d("+i+"px, 0, 0)");s.style.left=(i-getComputedStyle(s).width.replace("px",""))/2+"px"},p=function(t,e){e.options.autoplay&&clearTimeout(e.timeId)},h=function(t,e,n){var i=e.list,o=i[0],r=i[i.length-1],d=i[1];s(r,o,d,""),a(r,o,d,n,e.width)},f=function(t,e,n){var i;i=Math.abs(n)<e.compareDistance?"restore":0>n?"left":"right",e.slide(i,n),e.options.autoplay&&e.autoplay()},m=function(t,e,n,i){function o(t,e){return/touch/.test(t.type)?(t.originalEvent||t).changedTouches[0]["page"+e]:t["page"+e]}function s(t){if("touchstart"===t.type)v=!0;else if(v)return v=!1,!1;return!0}function a(n){!y&&s(n)&&(y=!0,u=o(n,"X"),l=o(n,"Y"),f=0,m=0,g=setTimeout(function(){T=!0},200),e(n,t),this.dispatchEvent(r("swipestart",!0,!0)),"mousedown"===n.type&&(n.preventDefault(),document.addEventListener("mousemove",d,!1),document.addEventListener("mouseup",c,!1)))}function d(e){var i;y&&(p=o(e,"X"),h=o(e,"Y"),f=p-u,m=h-l,T||w||E||(Math.abs(m)>10?(E=!0,i=r("touchend",!0,!0),this.dispatchEvent(i)):Math.abs(f)>7&&(w=!0)),w&&(e.preventDefault(),n(e,t,f),i=r("swipe",!0,!0),i.movement={diffX:f,diffY:m},x.dispatchEvent(i)),T&&(e.preventDefault(),i=r("sort",!0,!0),x.dispatchEvent(i)),(Math.abs(f)>5||Math.abs(m)>5)&&clearTimeout(g))}function c(e){var n;y&&(y=!1,w?(i(e,t,f),n=r("swipeend",!0,!0),n.customData={diffX:f,diffY:m},x.dispatchEvent(n)):T?(n=r("sortend",!0,!0),x.dispatchEvent(n)):!E&&Math.abs(f)<5&&Math.abs(m)<5&&("touchend"===e.type,n=r("tap",!0,!0),x.dispatchEvent(n)),w=!1,T=!1,E=!1,clearTimeout(g),"mouseup"===e.type&&(document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",c)))}var u,l,p,h,f,m,v,y,E,T,w,g,x=t.container;x.addEventListener("mousedown",a,!1),x.addEventListener("touchstart",a,!1),x.addEventListener("touchmove",d,!1),x.addEventListener("touchend",c,!1),x.addEventListener("touchcancel",c,!1)},v=function(t){t.options.autoplay&&null!==t.timeId&&(clearTimeout(t.timeId),t.timeId=null),t.resizeTimeId&&clearTimeout(t.resizeTimeId),t.resizeTimeId=setTimeout(function(){t.width=t.container.clientWidth,t.options.minPercentToSlide&&(t.compareDistance=t.width*t.options.minPercentToSlide),l(t),t.options.autoplay&&t.autoplay()},200)};return t.version="0.0.1",t.defaults=e,t.prototype.autoplay=function(){var t=this.interval,e=this;this.timeId=setTimeout(function(){e.slide(),e.autoplay()},t)},t.prototype.slide=function(t,e){var n,i,o,d,c,l=this.list,p=this.current,h=this.count,f=this.width,m=this.options.duration;t=t||this.options.direction,e=e||0,"left"===t?(l.push(l.shift()),this.current=(p+1)%h,m*=1-Math.abs(e)/f):"right"===t?(l.unshift(l.pop()),this.current=(p-1+h)%h,m*=1-Math.abs(e)/f):m*=Math.abs(e)/f,i=l[0],o=l[h-1],d=l[1],n="transform "+m+"s linear","left"===t||"restore"===t&&e>0?s(o,i,d,n,n,""):("right"===t||"restore"===t&&0>e)&&s(o,i,d,"",n,n),a(o,i,d,0,f),2===this.realCount?(this.current=this.current%2,u(this.indicators,p%2,this.current)):u(this.indicators,p,this.current),c=r("slideend",!0,!0),c.slider=this,c.currentItem=i,this.container.dispatchEvent(c)},t});

